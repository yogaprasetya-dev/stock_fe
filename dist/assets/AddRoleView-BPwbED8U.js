import{_ as c}from"./api.service-Dgs1boU1.js";import{_ as U}from"./Checkbox.vue_vue_type_script_setup_true_lang-BE2iSHdx.js";import{_ as k}from"./InputText.vue_vue_type_script_setup_true_lang-e6c03x4O.js";import{R as b}from"./role.service-Cps6zKxP.js";import{u as y,M as _,v as m,I as C,L as D,p as P,w as x,o as R,z as l,b as a,x as o,A as B,E as S}from"./index-DOh3iN_U.js";import{s as M}from"./index-DpvwzWQu.js";import{s as d}from"./index-BEODC2xI.js";import"./auth.service-BxJEy6Ur.js";import"./InputGroup.vue_vue_type_script_setup_true_lang-DO9keWeT.js";const j={class:"flex flex-col p-4 gap-3 text-xs"},A={class:"w-[300px]"},N={class:"flex flex-col gap-6"},E={class:"flex flex-row gap-4 items-center"},O={class:"flex flex-row gap-8"},T={class:"flex flex-col items-center gap-1"},G={class:"flex flex-col items-center gap-1"},$={class:"flex flex-col items-center gap-1"},K={class:"flex flex-col items-center gap-1"},z={class:"flex flex-row gap-4 items-center"},F={class:"flex flex-row gap-8"},H={class:"flex flex-col items-center gap-1"},I={class:"flex flex-col items-center gap-1"},L={class:"flex flex-col items-center gap-1"},q={class:"flex flex-col items-center gap-1"},J={class:"flex flex-row gap-4 items-center"},Q={class:"flex flex-row gap-8"},W={class:"flex flex-col items-center gap-1"},X={class:"flex flex-col items-center gap-1"},Y={class:"flex flex-col items-center gap-1"},Z={class:"flex flex-col items-center gap-1"},h={class:"flex flex-row gap-4 items-center"},ee={class:"flex flex-row gap-8"},le={class:"flex flex-col items-center gap-1"},te={class:"flex flex-col items-center gap-1"},se={class:"flex flex-col items-center gap-1"},ae={class:"flex flex-col items-center gap-1"},oe={class:"flex flex-row gap-4 items-center"},de={class:"flex flex-row gap-8"},ue={class:"flex flex-col items-center gap-1"},ne={class:"flex flex-col items-center gap-1"},ie={class:"flex flex-col items-center gap-1"},re={class:"flex flex-col items-center gap-1"},me={class:"flex flex-row gap-4 items-center"},pe={class:"flex flex-row gap-8"},fe={class:"flex flex-col items-center gap-1"},ve={class:"flex flex-col items-center gap-1"},xe={class:"flex flex-col items-center gap-1"},Ve={class:"flex flex-col items-center gap-1"},ge={class:"flex flex-row gap-4 items-center"},we={class:"flex flex-row gap-8"},ce={class:"flex flex-col items-center gap-1"},Ue={class:"flex flex-col items-center gap-1"},ke={class:"flex flex-col items-center gap-1"},be={class:"flex flex-col items-center gap-1"},ye={class:"flex flex-row gap-4 items-center"},_e={class:"flex flex-row gap-8"},Ce={class:"flex flex-col items-center gap-1"},De={class:"flex flex-col items-center gap-1"},Pe={class:"flex flex-col items-center gap-1"},Re={class:"flex flex-col items-center gap-1"},Be={class:"flex flex-row gap-4 items-center"},Se={class:"flex flex-row gap-8"},Me={class:"flex flex-col items-center gap-1"},je={class:"flex flex-col items-center gap-1"},Ae={class:"flex flex-col items-center gap-1"},Ne={class:"flex flex-col items-center gap-1"},Ee={class:"flex flex-row gap-4 items-center"},Oe={class:"flex flex-row gap-8"},Te={class:"flex flex-col items-center gap-1"},Ge={class:"flex flex-col items-center gap-1"},$e={class:"flex flex-col items-center gap-1"},Ke={class:"flex flex-col items-center gap-1"},ze={class:"flex flex-row gap-4 items-center"},Fe={class:"flex flex-row gap-8"},He={class:"flex flex-col items-center gap-1"},Ie={class:"flex flex-col items-center gap-1"},Le={class:"flex flex-col items-center gap-1"},qe={class:"flex flex-col items-center gap-1"},Je={class:"flex flex-row gap-4 items-center"},Qe={class:"flex flex-row gap-8"},We={class:"flex flex-col items-center gap-1"},Xe={class:"flex flex-col items-center gap-1"},Ye={class:"flex flex-col items-center gap-1"},Ze={class:"flex flex-col items-center gap-1"},he={class:"flex justify-end pt-8"},el={class:"flex flex-col gap-4 items-end"},pl=y({__name:"AddRoleView",setup(ll){const V=S(),r=_(),n=m(),i=m(!1),t=m({setting_user:{view:!1,create:!1,update:!1,delete:!1},setting_role:{view:!1,create:!1,update:!1,delete:!1},unit:{view:!1,create:!1,update:!1,delete:!1},product:{view:!1,create:!1,update:!1,delete:!1},category:{view:!1,create:!1,update:!1,delete:!1},brand:{view:!1,create:!1,update:!1,delete:!1},store:{view:!1,create:!1,update:!1,delete:!1},store_stock:{view:!1,create:!1,update:!1,delete:!1},warehouse_stock:{view:!1,create:!1,update:!1,delete:!1},product_in:{view:!1,create:!1,update:!1,delete:!1},product_out:{view:!1,create:!1,update:!1,delete:!1},product_mutation:{view:!1,create:!1,update:!1,delete:!1}}),p=C(()=>Object.values(t.value).every(u=>u.view&&u.create&&u.update&&u.delete)),f=()=>{n.value=void 0,i.value=!1,t.value={setting_user:{view:!1,create:!1,update:!1,delete:!1},setting_role:{view:!1,create:!1,update:!1,delete:!1},unit:{view:!1,create:!1,update:!1,delete:!1},product:{view:!1,create:!1,update:!1,delete:!1},category:{view:!1,create:!1,update:!1,delete:!1},brand:{view:!1,create:!1,update:!1,delete:!1},store:{view:!1,create:!1,update:!1,delete:!1},store_stock:{view:!1,create:!1,update:!1,delete:!1},warehouse_stock:{view:!1,create:!1,update:!1,delete:!1},product_in:{view:!1,create:!1,update:!1,delete:!1},product_out:{view:!1,create:!1,update:!1,delete:!1},product_mutation:{view:!1,create:!1,update:!1,delete:!1}}},v=()=>{V.push("/settings/role")},g=async()=>{var u,e;try{if(!n.value){r.add({severity:"warn",summary:"Peringatan",detail:"Nama role tidak boleh kosong",life:3e3});return}await b.createRole({name:n.value,permissions:t.value}),i.value?f():v(),r.add({severity:"success",summary:"Sukses",detail:"Berhasil menambah role",life:3e3})}catch(s){console.error("Error creating role:",s),r.add({severity:"error",summary:"Gagal",detail:s&&((e=(u=s.response)==null?void 0:u.data)==null?void 0:e.message)||"Gagal menambah role",life:3e3})}},w=()=>{if(p.value){Object.keys(t.value).forEach(u=>{const e=t.value[u];e&&(e.view=!1,e.create=!1,e.update=!1,e.delete=!1)});return}Object.keys(t.value).forEach(u=>{const e=t.value[u];e&&(e.view=!0,e.create=!0,e.update=!0,e.delete=!0)})};return D(t,()=>{Object.keys(t.value).forEach(u=>{const e=t.value[u];e&&(e.view=Object.values(e).some(s=>s))})},{deep:!0}),(u,e)=>(R(),P(c,null,{default:x(()=>[l("div",j,[l("div",A,[a(k,{"model-value":n.value,"onUpdate:modelValue":e[0]||(e[0]=s=>n.value=s),label:"Nama Role",placeholder:"Masukkan Nama Role"},null,8,["model-value"])]),l("div",null,[a(o(M),{align:"left",type:"solid"},{default:x(()=>e[50]||(e[50]=[l("span",{class:"font-semibold"},"Perizinan",-1)])),_:1}),l("div",N,[l("div",E,[e[55]||(e[55]=l("div",{class:"min-w-[150px]"},[l("span",null,"Pengaturan Pengguna :")],-1)),l("div",O,[l("div",T,[e[51]||(e[51]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.setting_user.view,"onUpdate:modelValue":e[1]||(e[1]=s=>t.value.setting_user.view=s)},null,8,["modelValue"])]),l("div",G,[e[52]||(e[52]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.setting_user.create,"onUpdate:modelValue":e[2]||(e[2]=s=>t.value.setting_user.create=s)},null,8,["modelValue"])]),l("div",$,[e[53]||(e[53]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.setting_user.update,"onUpdate:modelValue":e[3]||(e[3]=s=>t.value.setting_user.update=s)},null,8,["modelValue"])]),l("div",K,[e[54]||(e[54]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.setting_user.delete,"onUpdate:modelValue":e[4]||(e[4]=s=>t.value.setting_user.delete=s)},null,8,["modelValue"])])])]),l("div",z,[e[60]||(e[60]=l("div",{class:"min-w-[150px]"},[l("span",null,"Pengaturan Hak Akses :")],-1)),l("div",F,[l("div",H,[e[56]||(e[56]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.setting_role.view,"onUpdate:modelValue":e[5]||(e[5]=s=>t.value.setting_role.view=s)},null,8,["modelValue"])]),l("div",I,[e[57]||(e[57]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.setting_role.create,"onUpdate:modelValue":e[6]||(e[6]=s=>t.value.setting_role.create=s)},null,8,["modelValue"])]),l("div",L,[e[58]||(e[58]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.setting_role.update,"onUpdate:modelValue":e[7]||(e[7]=s=>t.value.setting_role.update=s)},null,8,["modelValue"])]),l("div",q,[e[59]||(e[59]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.setting_role.delete,"onUpdate:modelValue":e[8]||(e[8]=s=>t.value.setting_role.delete=s)},null,8,["modelValue"])])])]),l("div",J,[e[65]||(e[65]=l("div",{class:"min-w-[150px]"},[l("span",null,"Produk :")],-1)),l("div",Q,[l("div",W,[e[61]||(e[61]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.product.view,"onUpdate:modelValue":e[9]||(e[9]=s=>t.value.product.view=s)},null,8,["modelValue"])]),l("div",X,[e[62]||(e[62]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.product.create,"onUpdate:modelValue":e[10]||(e[10]=s=>t.value.product.create=s)},null,8,["modelValue"])]),l("div",Y,[e[63]||(e[63]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.product.update,"onUpdate:modelValue":e[11]||(e[11]=s=>t.value.product.update=s)},null,8,["modelValue"])]),l("div",Z,[e[64]||(e[64]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.product.delete,"onUpdate:modelValue":e[12]||(e[12]=s=>t.value.product.delete=s)},null,8,["modelValue"])])])]),l("div",h,[e[70]||(e[70]=l("div",{class:"min-w-[150px]"},[l("span",null,"Merek :")],-1)),l("div",ee,[l("div",le,[e[66]||(e[66]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.brand.view,"onUpdate:modelValue":e[13]||(e[13]=s=>t.value.brand.view=s)},null,8,["modelValue"])]),l("div",te,[e[67]||(e[67]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.brand.create,"onUpdate:modelValue":e[14]||(e[14]=s=>t.value.brand.create=s)},null,8,["modelValue"])]),l("div",se,[e[68]||(e[68]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.brand.update,"onUpdate:modelValue":e[15]||(e[15]=s=>t.value.brand.update=s)},null,8,["modelValue"])]),l("div",ae,[e[69]||(e[69]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.brand.delete,"onUpdate:modelValue":e[16]||(e[16]=s=>t.value.brand.delete=s)},null,8,["modelValue"])])])]),l("div",oe,[e[75]||(e[75]=l("div",{class:"min-w-[150px]"},[l("span",null,"Kategori :")],-1)),l("div",de,[l("div",ue,[e[71]||(e[71]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.category.view,"onUpdate:modelValue":e[17]||(e[17]=s=>t.value.category.view=s)},null,8,["modelValue"])]),l("div",ne,[e[72]||(e[72]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.category.create,"onUpdate:modelValue":e[18]||(e[18]=s=>t.value.category.create=s)},null,8,["modelValue"])]),l("div",ie,[e[73]||(e[73]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.category.update,"onUpdate:modelValue":e[19]||(e[19]=s=>t.value.category.update=s)},null,8,["modelValue"])]),l("div",re,[e[74]||(e[74]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.category.delete,"onUpdate:modelValue":e[20]||(e[20]=s=>t.value.category.delete=s)},null,8,["modelValue"])])])]),l("div",me,[e[80]||(e[80]=l("div",{class:"min-w-[150px]"},[l("span",null,"Satuan :")],-1)),l("div",pe,[l("div",fe,[e[76]||(e[76]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.unit.view,"onUpdate:modelValue":e[21]||(e[21]=s=>t.value.unit.view=s)},null,8,["modelValue"])]),l("div",ve,[e[77]||(e[77]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.unit.create,"onUpdate:modelValue":e[22]||(e[22]=s=>t.value.unit.create=s)},null,8,["modelValue"])]),l("div",xe,[e[78]||(e[78]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.unit.update,"onUpdate:modelValue":e[23]||(e[23]=s=>t.value.unit.update=s)},null,8,["modelValue"])]),l("div",Ve,[e[79]||(e[79]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.unit.delete,"onUpdate:modelValue":e[24]||(e[24]=s=>t.value.unit.delete=s)},null,8,["modelValue"])])])]),l("div",ge,[e[85]||(e[85]=l("div",{class:"min-w-[150px]"},[l("span",null,"Toko :")],-1)),l("div",we,[l("div",ce,[e[81]||(e[81]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.store.view,"onUpdate:modelValue":e[25]||(e[25]=s=>t.value.store.view=s)},null,8,["modelValue"])]),l("div",Ue,[e[82]||(e[82]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.store.create,"onUpdate:modelValue":e[26]||(e[26]=s=>t.value.store.create=s)},null,8,["modelValue"])]),l("div",ke,[e[83]||(e[83]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.store.update,"onUpdate:modelValue":e[27]||(e[27]=s=>t.value.store.update=s)},null,8,["modelValue"])]),l("div",be,[e[84]||(e[84]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.store.delete,"onUpdate:modelValue":e[28]||(e[28]=s=>t.value.store.delete=s)},null,8,["modelValue"])])])]),l("div",ye,[e[90]||(e[90]=l("div",{class:"min-w-[150px]"},[l("span",null,"Stok Toko :")],-1)),l("div",_e,[l("div",Ce,[e[86]||(e[86]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.store_stock.view,"onUpdate:modelValue":e[29]||(e[29]=s=>t.value.store_stock.view=s)},null,8,["modelValue"])]),l("div",De,[e[87]||(e[87]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.store_stock.create,"onUpdate:modelValue":e[30]||(e[30]=s=>t.value.store_stock.create=s)},null,8,["modelValue"])]),l("div",Pe,[e[88]||(e[88]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.store_stock.update,"onUpdate:modelValue":e[31]||(e[31]=s=>t.value.store_stock.update=s)},null,8,["modelValue"])]),l("div",Re,[e[89]||(e[89]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.store_stock.delete,"onUpdate:modelValue":e[32]||(e[32]=s=>t.value.store_stock.delete=s)},null,8,["modelValue"])])])]),l("div",Be,[e[95]||(e[95]=l("div",{class:"min-w-[150px]"},[l("span",null,"Stok Gudang :")],-1)),l("div",Se,[l("div",Me,[e[91]||(e[91]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.warehouse_stock.view,"onUpdate:modelValue":e[33]||(e[33]=s=>t.value.warehouse_stock.view=s)},null,8,["modelValue"])]),l("div",je,[e[92]||(e[92]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.warehouse_stock.create,"onUpdate:modelValue":e[34]||(e[34]=s=>t.value.warehouse_stock.create=s)},null,8,["modelValue"])]),l("div",Ae,[e[93]||(e[93]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.warehouse_stock.update,"onUpdate:modelValue":e[35]||(e[35]=s=>t.value.warehouse_stock.update=s)},null,8,["modelValue"])]),l("div",Ne,[e[94]||(e[94]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.warehouse_stock.delete,"onUpdate:modelValue":e[36]||(e[36]=s=>t.value.warehouse_stock.delete=s)},null,8,["modelValue"])])])]),l("div",Ee,[e[100]||(e[100]=l("div",{class:"min-w-[150px]"},[l("span",null,"Barang Masuk :")],-1)),l("div",Oe,[l("div",Te,[e[96]||(e[96]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.product_in.view,"onUpdate:modelValue":e[37]||(e[37]=s=>t.value.product_in.view=s)},null,8,["modelValue"])]),l("div",Ge,[e[97]||(e[97]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.product_in.create,"onUpdate:modelValue":e[38]||(e[38]=s=>t.value.product_in.create=s)},null,8,["modelValue"])]),l("div",$e,[e[98]||(e[98]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.product_in.update,"onUpdate:modelValue":e[39]||(e[39]=s=>t.value.product_in.update=s)},null,8,["modelValue"])]),l("div",Ke,[e[99]||(e[99]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.product_in.delete,"onUpdate:modelValue":e[40]||(e[40]=s=>t.value.product_in.delete=s)},null,8,["modelValue"])])])]),l("div",ze,[e[105]||(e[105]=l("div",{class:"min-w-[150px]"},[l("span",null,"Barang Keluar :")],-1)),l("div",Fe,[l("div",He,[e[101]||(e[101]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.product_out.view,"onUpdate:modelValue":e[41]||(e[41]=s=>t.value.product_out.view=s)},null,8,["modelValue"])]),l("div",Ie,[e[102]||(e[102]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.product_out.create,"onUpdate:modelValue":e[42]||(e[42]=s=>t.value.product_out.create=s)},null,8,["modelValue"])]),l("div",Le,[e[103]||(e[103]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.product_out.update,"onUpdate:modelValue":e[43]||(e[43]=s=>t.value.product_out.update=s)},null,8,["modelValue"])]),l("div",qe,[e[104]||(e[104]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.product_out.delete,"onUpdate:modelValue":e[44]||(e[44]=s=>t.value.product_out.delete=s)},null,8,["modelValue"])])])]),l("div",Je,[e[110]||(e[110]=l("div",{class:"min-w-[150px]"},[l("span",null,"Barang Mutasi :")],-1)),l("div",Qe,[l("div",We,[e[106]||(e[106]=l("span",{class:"font-medium"},"View",-1)),a(o(d),{modelValue:t.value.product_mutation.view,"onUpdate:modelValue":e[45]||(e[45]=s=>t.value.product_mutation.view=s)},null,8,["modelValue"])]),l("div",Xe,[e[107]||(e[107]=l("span",{class:"font-medium"},"Create",-1)),a(o(d),{modelValue:t.value.product_mutation.create,"onUpdate:modelValue":e[46]||(e[46]=s=>t.value.product_mutation.create=s)},null,8,["modelValue"])]),l("div",Ye,[e[108]||(e[108]=l("span",{class:"font-medium"},"Update",-1)),a(o(d),{modelValue:t.value.product_mutation.update,"onUpdate:modelValue":e[47]||(e[47]=s=>t.value.product_mutation.update=s)},null,8,["modelValue"])]),l("div",Ze,[e[109]||(e[109]=l("span",{class:"font-medium"},"Delete",-1)),a(o(d),{modelValue:t.value.product_mutation.delete,"onUpdate:modelValue":e[48]||(e[48]=s=>t.value.product_mutation.delete=s)},null,8,["modelValue"])])])])])]),l("div",null,[l("button",{onClick:w,class:"text-xs text-blue-500 hover:underline hover:cursor-pointer hover:text-blue-700"},B(p.value?"Unselect":"Select All"),1)]),l("div",he,[l("div",el,[a(U,{"model-value":i.value,"onUpdate:modelValue":e[49]||(e[49]=s=>i.value=s),label:"Tetap di sini?"},null,8,["model-value"]),l("div",{class:"flex gap-2"},[l("button",{onClick:v,class:"text-xs rounded-sm !px-2 !py-1 bg-black text-white hover:bg-black/60 hover:cursor-pointer shadow-md border-1 border-gray-600"}," Kembali "),l("button",{onClick:f,class:"text-xs rounded-sm !px-2 !py-1 bg-transparent text-red-500 hover:bg-red-500/60 hover:text-white hover:cursor-pointer shadow-md border-1 border-red-500"}," Bersihkan Field "),l("button",{onClick:g,class:"text-xs rounded-sm !px-2 !py-1 bg-green-400 text-white hover:bg-green-400/60 hover:text-white hover:cursor-pointer shadow-md border-1 border-green-500"}," Submit ")])])])])]),_:1}))}});export{pl as default};
